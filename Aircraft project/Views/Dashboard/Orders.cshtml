@model IEnumerable<Aircraft_project.Models.Orders>


@{
    ViewData["Title"] = "Orders";
}


<div id="content">
    <!-- Topbar -->
    @Html.Partial("~/Views/Shared/_DashboardTopNavbar.cshtml")
    <!-- End of Topbar -->
    <!-- Begin Page Content -->
    <div class="container-fluid">

        <div class="d-sm-flex align-items-center justify-content-between mb-4">
            <h1 class="h3 mb-0 text-gray-800">Orders Information</h1>
            <div>
                <a href="#" class="d-none d-sm-inline-block btn btn-sm btn-primary shadow-sm mr-3">
                    <i class="fas fa-download fa-sm text-white-50"></i> Generate Report
                </a>
            </div>
        </div>


        <div class="row">
            <div class="card shadow mb-4 w-100">
                <div class="card-header py-3">
                    <h6 class="m-0 font-weight-bold text-primary">Orders Table</h6>
                </div>
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                            <thead>
                                <tr>
                                    <th>Order ID</th>
                                    <th>User ID</th>
                                    <th>Name</th>
                                    <th>Email</th>
                                    <th>Phone</th>
                                    <th>Pincode</th>
                                    <th>Address</th>
                                    <th>Total Price</th>
                                    <th>Created Date</th>
                                    <th>Payment Status</th>
                                    <th>Tracking Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var order in Model)
                                {
                                    <tr>
                                        <td>@order.OrderId</td>
                                        <td>@order.UserId</td>
                                        <td>@order.Name</td>
                                        <td>@order.Email</td>
                                        <td>@order.Phone</td>
                                        <td>@order.Pincode</td>
                                        <td>@order.Address</td>
                                        <td>@order.TotalPrice</td>
                                        <td>@order.CreatedDate.ToString("yyyy-MM-dd")</td>
                                        <td>@order.PaymentStatus</td>
                                        <td>
                                            <select class="form-control" id="trackingStatus_@order.OrderId">
                                                <option value="Pending" @(order.TrackingStatus == "Pending" ? "selected" :
                                                "")>Pending</option>
                                                <option value="Shipped" @(order.TrackingStatus == "Shipped" ? "selected" :
                                                "")>Shipped</option>
                                                <option value="Delivered" @(order.TrackingStatus == "Delivered" ? "selected"
                                                : "")>Delivered</option>
                                                <option value="Returned" @(order.TrackingStatus == "Returned" ? "selected" :
                                                "")>Returned</option>
                                            </select>
                                            <button class="btn btn-primary"
                                                onclick="updateTrackingStatus(@order.OrderId)">Update</button>
                                        </td>
                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- End of Main Content -->
